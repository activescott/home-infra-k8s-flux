resources:
  - ./certificate.yaml
  - ./prometheus-ingress.yaml
  - ./prometheus-pv.yaml
  - ./helmrelease.yaml

# Alerting rules are kept in separate files for easy editing.
# Each file is a strategic merge patch that adds rules to the HelmRelease's serverFiles.
patches:
  - path: alerting-rules-gpupoet.yaml
  - path: alerting-rules-tayle.yaml

secretGenerator:
  - name: prometheus-secrets
    options:
      disableNameSuffixHash: true
    envs:
      - .env.secret.prometheus-self-scrape.encrypted
  - name: alertmanager-secrets
    options:
      disableNameSuffixHash: true
    envs:
      - .env.secret.alertmanager.encrypted

configMapGenerator:
  - name: prometheus-web-config
    options:
      disableNameSuffixHash: true
    files:
      - web.yaml

labels:
  - pairs:
      app.activescott.com/name: prometheus
